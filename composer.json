{
  "name": "kitware/cdash",
  "description": "An open source, web-based software testing server",
  "type": "project",
  "license": "BSD-3-Clause",
  "support": {
    "email": "kitware@kitware.com",
    "issues": "https://github.com/Kitware/CDash/issues",
    "source": "https://github.com/Kitware/CDash",
    "wiki": "http://public.kitware.com/Wiki/CDash"
  },
  "require": {
    "php": "^7.1.3",
    "fideloper/proxy": "^4.0",
    "laravel/framework": "5.7.*",
    "laravel/tinker": "^1.0",
    "ext-bcmath": "*",
    "ext-curl": "*",
    "ext-json": "*",
    "ext-mbstring": "*",
    "ext-pdo": "*",
    "ext-posix": "*",
    "ext-xsl": "*",
    "bernard/bernard": "1.0.0-alpha9",
    "guzzlehttp/guzzle": "~6.2",
    "monolog/monolog": "~1.19",
    "paragonie/random_compat": "2.0.4",
    "pear/archive_tar": "~1.4",
    "predis/predis": "~0.8",
    "ramsey/uuid": "~3.4",
    "suin/php-rss-writer": "~1.4",
    "sendgrid/sendgrid": "5.0.4",
    "php-di/php-di": "^5.4",
    "league/oauth2-github": "^2.0",
    "league/oauth2-google": "^2.0",
    "omines/oauth2-gitlab": "^3.1",
    "aws/aws-sdk-php": "^3.57",
    "doctrine/dbal": "^2.5",
    "iron-io/iron_mq": "~2.0",
    "knplabs/github-api": "dev-master#8c26dc85",
    "php-http/guzzle6-adapter": "^1.1",
    "lcobucci/jwt": "3.2.0"
  },
  "require-dev": {
    "beyondcode/laravel-dump-server": "^1.0",
    "ext-gd": "*",
    "ext-xdebug": "*",
    "ext-dom": "*",
    "filp/whoops": "^2.0",
    "fzaninotto/faker": "^1.4",
    "mockery/mockery": "^1.0",
    "nunomaduro/collision": "^2.0",
    "phpunit/phpunit": "^7.0"
  },
  "suggest": {
    "ext-memcached": "",
    "ext-pdo_mysql": "",
    "ext-pdo_pgsql": "",
    "ext-phar": ""
  },
  "config": {
    "optimize-autoloader": true,
    "preferred-install": "dist",
    "sort-packages": true
  },
  "extra": {
    "laravel": {
      "dont-discover": []
    }
  },
  "autoload": {
    "psr-4": {
      "App\\": "app/",
      "CDash\\": "app/cdash/include/CDash/"
    },
    "classmap": [
      "database/seeds",
      "database/factories"
    ]
  },
  "autoload-dev": {
    "psr-4": {
      "Tests\\": "tests/"
    }
  },
  "minimum-stability": "dev",
  "prefer-stable": true,
  "scripts": {
    "post-autoload-dump": [
      "Illuminate\\Foundation\\ComposerScripts::postAutoloadDump",
      "@php artisan package:discover --ansi"
    ],
    "post-root-package-install": [
      "@php -r \"file_exists('.env') || copy('.env.example', '.env');\""
    ],
    "post-create-project-cmd": [
      "@php artisan key:generate --ansi"
    ],

    "enable-production": "ln -fs docker/docker-compose.production.yml docker-compose.yml",
    "enable-dev-mysql": "ln -fs docker/docker-compose.mysql.yml docker-compose.yml",
    "enable-dev-postgres": "ln -fs docker/docker-compose.postgres.yml docker-compose.yml",

    "build-cdash-image": [
      "docker-compose build --force-rm --no-cache cdash"
    ],

    "start-docker-services": "docker-compose up -d",

    "start-dev-mysql": [
      "@enable-dev-mysql",
      "@start-docker-services"
    ],
    "start-dev-postgres": [
      "@enable-dev-postgres",
      "@start-docker-services"
    ],
    "start-cdash-container": [
      "@enable-production",
      "@start-docker-services"
    ],

    "ctest-run-and-submit": [
      "docker exec cdash bash -c \"cd /home/kitware/cdash && /usr/bin/git checkout .\"",
      "docker exec --user www-data cdash bash -c \"/usr/bin/ctest -VV -DBUILDNAME=\"${CIRCLE_BRANCH}_MySQL\" -Dpostgres=OFF -S /home/kitware/cdash/.circleci/ctest_driver_script.cmake\""
    ]
  }
}
